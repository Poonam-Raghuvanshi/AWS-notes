<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title> EC2 </title>
    <link rel="stylesheet" href="../style.css">
</head>

<body>
    <p class="main-heading">ELASTIC COMPUTE CLOUD</p>
    <p>second billing continues - one-minute minimum charge</strong> .</p>
    <section>
        <p class="heading">Amazon Machine Image (AMI) </p>
        <p>
            Template that contains a software configuration (for example, an operating system, an application server,
            and applications). From an AMI, you launch an instance, which is a copy of the AMI running as a virtual
            server in the cloud.

        </p>
        <p><b>When the new AMI is copied from region A into region B, it automatically creates a snapshot in region B
                because AMIs are based on the underlying snapshots.</b></p>
    </section>

    <section>
        <p class="heading">Instances </p>
        <p>
            Virtual server in the cloud. Its configuration at launch is a copy of the AMI that you
            specified when you launched the instance.

            You can launch different types of instances from a single AMI. An instance type essentially determines the
            hardware of the host computer used for your instance. Each instance type offers different compute and memory
            capabilities.
            <strong> Use sudo to run commands that require root privileges</strong>.

        </p>
        <p class="point">General Purpose</p>
        <p>
        <ul>
            <li>Balance of <b>compute, memory and networking resources </b> and can be used for a variety of diverse
                workloads.
            </li>
            <li>Ideal for applications that use these resources in equal proportions such as web servers and code
                repositories.</li>
        </ul>
        </p>

        <p class="point">Compute Optimized</p>
        <p>
        <ul>
            <li>Ideal for compute bound and intensive applications that benefit from high performance processors. </li>
            <li>Suited for batch processing workloads, media transcoding, high performance web servers, high performance
                computing (HPC), scientific modeling, dedicated gaming servers and ad server engines, machine learning
                inference.
            </li>
        </ul>
        </p>
        <p class="point"> Memory optimized</p>
        <p>
        <ul>
            <li> Designed to deliver fast performance for workloads that process large data sets in memory. </li>
            <li>Workloads (SAP, SQL, and NoSQL databases); distributed web scale in-memory caches (Memcached and
                Redis); in-memory databases and real-time big data analytics (Hadoop and Spark clusters)</li>
        </ul>
        </p>
        <p class="point"> Storage optimized</p>
        <p>
        <ul>
            <li> Designed for workloads that require high, sequential read and write access to very large data sets on
                local storage. </li>
            <li>They are optimized to deliver tens of thousands of low-latency, random I/O operations per second (IOPS)
                to applications.</li>
        </ul>

        </p>

    </section>
    <p class="heading">Instance store </p>
    <p> You can specify instance store volumes for an instance only when you launch it. You can't detach an instance
        store
        volume from one instance and attach it to a different instance. The data in an instance store persists only
        during the <b>lifetime of its associated instance</b>. If an instance reboots, data in the instance store
        persists.If you create an AMI from an instance, the data on its instance store volumes isn't preserved and isn't
        present on the instance
        store volumes of the instances that you launch from the AMI.
    </p>
    <p class="heading">Instance Reboot </p>
    <p>The instance remains on the same host computer and maintains its public DNS name, private IP address, and any
        data on its instance store volumes. </p>

    <p class="heading">Instance Hibernate </p>
    <p>Your instance retains its private IPv4 address, which means that an Elastic IP address associated with the
        private IPv4 address or network interface is still associated with your instance. If your instance has an IPv6
        address, it retains its IPv6 address.</p>
    <p>An Elastic IP address is associated with your AWS account. With an Elastic IP address, you can mask the failure
        of an instance or software by rapidly remapping the address to another instance in your account.</p>
    <p>When you hibernate an instance, AWS signals the operating system to perform hibernation (suspend-to-disk).
        Hibernation saves the contents from the instance memory (RAM) to your Amazon EBS root volume. AWS then persists
        the instance's Amazon EBS root volume and any attached Amazon EBS data volumes.</p>

    <p class="heading">Placement Group </p>
    <p>
        When you launch a new EC2 instance, the EC2 service attempts to place the instance in such a way that all of
        your instances are spread out across underlying hardware to minimize correlated failures.


    <p>
        <span class="point"> Cluster placement group - </span>packs instances close together inside an Availability
        Zone. This
        strategy enables workloads to achieve the
        low-latency network performance necessary for tightly-coupled node-to-node communication that is typical of HPC
        applications
    </p>


    <p> <span class="point"> Partition placement group - </span>
        Spreads your instances across logical partitions such that groups of instances in one partition do not share the
        underlying hardware with groups of instances in different partitions. This strategy is typically used by large
        distributed and replicated workloads, such as Hadoop, Cassandra, and Kafka. <br /> <strong>Maximum of seven
            partitions per AZ</strong>.
    </p>
    <p>

        <span class="point"> Spread placement group - </span>
        Group of instances that are each placed on distinct racks, with each rack having
        its own network and power source. <br />

        Recommended for applications that have a small number of critical instances that
        should be kept separate from each other. Launching instances in a spread placement group reduces the risk of
        simultaneous failures that might occur when instances share the same racks.

        A spread placement group can span multiple Availability Zones in the same Region. <br /> <strong>Maximum of
            seven running instances per AZ</strong>.
    </p>
    <p><b> Rack spread placement group </b>can span multiple Availability Zones in the same Region. You can have a
        maximum of seven running instances per Availability Zone per group.</p>
    <p><b>Host spread level placement groups </b> are only available with AWS Outposts. For host spread level placement
        groups, there are no restrictions for running instances per Outposts.</p>
    <p class="heading"> EC2 Instance Types</p>
    <p><span class="point"> EC2 dedicated hosts</span>

        - <b>physical servers that are dedicated for your use</b>.Dedicated Hosts give you
        additional visibility and control over how instances are placed on a physical server,and you can reliably use
        the same physical server over time. <b> Let you use your existing server-bound software licenses </b> and
        address corporate compliance and regulatory requirements.
    </p>
    <p> <span class="point"> EC2 dedicated instances</span>

        - <b>Instances that run in a VPC on hardware that's dedicated to a single customer</b>. Your dedicated
        instances are physically isolated at the host hardware level from instances that belong to other AWS accounts.
        Dedicated instances may share hardware with other instances from the same AWS account that are not dedicated
        instances.

    </p>
    <p>
        <span class="point"> On-Demand Instances</span> -
        <b> Pay, by the second, for the instances that you launch.</b>
    </p>

    <p><span class="point"> EC2 reserved instances</span> -
        Reduce your Amazon EC2 costs by making a commitment to a consistent instance configuration,
        including instance type and Region, for a term of 1 or 3 years.

    </p>
    <p> <span class="point"> Spot Instances</span> - Unused EC2 instance that is available for less than the On-Demand
        price (steep discounts). <b>Spot Instances are a cost-effective choice if you can be flexible about when
            your applications run and if your applications can be interrupted </b>. </p>
    <p><strong>Spot blocks - </strong> defined
        duration and designed not to be interrupted and will run continuously for the
        duration you select.Spot blocks allow you to request Amazon EC2 Spot instances for 1 to 6 hours at a time to
        avoid being interrupted.This makes them ideal for jobs that
        take a finite time to complete, such as batch
        processing, encoding and rendering, modeling and analysis, and continuous integration.
    </p>
    <p><strong>Spot Fleet - </strong>- set of Spot Instances and optionally On-Demand Instances that are launched to
        meet your target
        capacity</p>
    <p class="heading"> Launch template and launch configuration</p>
    <p>Similar but Launch template specifies instance <b> configuration information such as the ID of the Amazon Machine
            Image (AMI), the instance type, a key pair, security groups, and the other parameters that you use to launch
            EC2 instances</b>. Also, a launch template <b>allows you to have multiple versions of a template</b> and
        <b>Provision capacity across multiple instance types </b>using both On-Demand
        Instances and Spot Instances to achieve the desired scale, performance, and cost.
    </p>
    <p class="heading">User data </p>
    <p>Perform common automated configuration tasks and even run scripts after the instance starts. When you launch an
        instance in Amazon EC2, you can pass two types of user data - shell scripts
        and cloud-init directives. You can also pass this data into the launch wizard as plain text or as a file.</p>
    <p>Scripts entered as user data are executed as the root user, hence do not need the sudo command in the script. Any
        files you create will be owned by root; if you need non-root users to have file access, you should modify the
        permissions accordingly in the script.</p>
    <p> <b>Run when you first launch an instance</b>- You can update your configuration to ensure that your user data
        scripts and cloud-init directives run every time you restart your instance.</p>
    <p class="heading">Request throttling for the Amazon EC2 API - </p>
    <p> If you exceed an API throttling limit, you get the RequestLimitExceeded error code. You can use Amazon
        CloudWatch to monitor your Amazon EC2 API calls and to collect and track metrics around API throttling. </p>
    <p> <span class="heading">Instance Metadata </span> consists of instance-id, AMI ID, public hostname, IPv4 address
        which
        is available from the running Amazon EC2 instances.
        To get the AMI ID for the running instance,
        http://169.254.169.254/latest/meta-data/ami-id can be used.</p>

    <p class="heading">EC2 Instance store </p>
    <p> <b>The data in an instance store persists only during the lifetime of its associated instance.</b>This storage
        is located on disks that are physically attached to the host computer. Instance store is ideal for
        the temporary block-level storage of information that changes frequently such as buffers, caches, scratch data,
        and other temporary content, or for data that is
        replicated across a fleet of instances, such as a load-balanced pool of web servers. <b> Instance store volumes
            are included as part of the instance's usage cost. </b>
        As Instance Store based volumes provide high random I/O performance at low cost (as the storage is part of the
        instance's usage cost) and the resilient architecture can adjust for the loss of any instance,
    </p>



    <p class="heading">Set up a bastion host on Amazon EC2 </p>
    <p> A bastion host is a server whose purpose is to provide access to a private
        network from an external network, such as the Internet. The bastion host runs on an Amazon EC2 instance that is
        typically in a public subnet of your Amazon VPC. Other EC2 instances can be in a subnet that is not publicly
        accessible, and they are set up with a security group that allows SSH access from the security group attached to
        the underlying EC2 instance running the bastion host. A bastion host cannot be used to set up a connection
        between its on-premises data center and AWS Cloud.</p>
    <p>Deploy EC2 instances with Elastic Fabric Adapter
        Elastic Fabric Adapter (EFA) is a network interface for Amazon EC2 instances that enables customers to run
        applications requiring high levels of inter-node communications at scale on AWS. Its custom-built operating
        system (OS) bypass hardware interface enhances the performance of inter-instance communications, which is
        critical to scaling these applications. </p>
    <p>
    <p>An Elastic Fabric Adapter (EFA) is a network device that you can attach to your Amazon EC2 instance to accelerate
        High-Performance Computing (HPC) and machine learning applications.</p>
    </p>
    <p>The Elastic Fabric Adapter (EFA) is a network interface for Amazon EC2 instances that enables customers to run
        HPC applications requiring high levels of inter-instance communications, like computational fluid dynamics,
        weather modeling, and reservoir simulation, at scale on AWS.</p>

    <p>ENA is a custom network interface optimized to deliver high throughput on specific supported EC2
        instances. This statement defines the correct steps to enable an ENA interface and validate the driver
        is in place.</p>

    <p class="heading">Termination policy </p>
    <p>
    <ul>
        <li>Amazon EC2 Auto Scaling terminates instances that use a launch configuration before it
            terminates instances that use a launch template.</li>

        <li> After applying the preceding criteria, if there are multiple unprotected instances to terminate, determine
            which instances are closest to the next billing hour. If there are multiple unprotected instances closest to
            the next billing hour, terminate one of these instances at random. </li>
    </ul>
    <ul>
        <li> Default. Terminate instances according to the default termination policy. This policy is useful when you
            want
            your Spot allocation strategy evaluated before any other policy, so that every time your Spot instances are
            terminated or replaced, you continue to make use of Spot Instances in the optimal pools. It is also useful,
            for
            example, when you want to move off launch configurations and start using launch templates.</li>

        <li>

            AllocationStrategy. Terminate instances in the Auto Scaling group to align the remaining instances to the
            allocation strategy for the type of instance that is terminating (either a Spot Instance or an On-Demand
            Instance). This policy is useful when your preferred instance types have changed. If the Spot allocation
            strategy is lowest-price, you can gradually rebalance the distribution of Spot Instances across your N
            lowest
            priced Spot pools. If the Spot allocation strategy is capacity-optimized, you can gradually rebalance the
            distribution of Spot Instances across Spot pools where there is more available Spot capacity. You can also
            gradually replace On-Demand Instances of a lower priority type with On-Demand Instances of a higher priority
            type.</li>

        <li>

            OldestLaunchTemplate. Terminate instances that have the oldest launch template. With this policy, instances
            that
            use the noncurrent launch template are terminated first, followed by instances that use the oldest version
            of
            the current launch template. This policy is useful when you're updating a group and phasing out the
            instances
            from a previous configuration.</li>

        <li>

            OldestLaunchConfiguration. Terminate instances that have the oldest launch configuration. This policy is
            useful
            when you're updating a group and phasing out the instances from a previous configuration. With this policy,
            instances that use the noncurrent launch configuration are terminated first.</li>

        <li>

            ClosestToNextInstanceHour. Terminate instances that are closest to the next billing hour. This policy helps
            you
            maximize the use of your instances that have an hourly charge. (Only instances that use Amazon Linux,
            Windows,
            or Ubuntu are billed in one-second increments.)</li>

        <li>

            NewestInstance. Terminate the newest instance in the group. This policy is useful when you're testing a new
            launch configuration but don't want to keep it in production.</li>

        <li>

            OldestInstance. Terminate the oldest instance in the group. This option is useful when you're upgrading the
            instances in the Auto Scaling group to a new EC2 instance type. You can gradually replace instances of the
            old
            type with instances of the new type.</li>
    </ul>
    <li>
    <li>\ EC2 saving plan, you can save up to 72% (just like Standard RIs). This plan applies to all of your EC2
        instances using the same instance family.</li>
    </li>
    </p>
    <p>
        <li>Compute Savings plans automatically apply to EC2 instance usage
            regardless of instance&nbsp;family, size, AZ, region, and OS. The web tier consists of multiple types of
            instance family. EC2 Instance Savings Plans automatically reduce cost on the selected instance family in
            that region regardless of AZ, size, OS, or tenancy.<br>
            Since application tiers use the same set of instance families. The savings plan&nbsp;doesn't support the
            RDS. So, Reserved instances are best suited for databases.</li>
    </p>
    <div class="explanation-block show-answer">
        <hr>
        <h6>Explanation:</h6>
        <div>
            <p><strong>Correct Answer: C</strong></p>

            <p>Amazon ECS with EC2 launch type supports the following networking mode,</p>

            <ol>
                <li>Host Mode: This is a basic mode in which the networking of the container is directly tied to the
                    underlying host.</li>
                <li>Bridge Mode: In this mode, a network bridge is created between host and container networking. This
                    bridge mode allows the remapping of ports between host and container ports.</li>
                <li>None mode: In this mode, networking is not attached to the container. With this mode, containers do
                    not have external connectivity.</li>
                <li>AWSVPC Mode: In this mode, each task is allocated a separate ENI (Elastic Network Interface). Each
                    Task will receive a separate IP address and a separate security group can be assigned to each ENI.
                    This helps to have separate security policies for each task and helps to get granular monitoring for
                    traffic flowing via each task.</li>
            </ol>

            <p>In the above scenario, using AWSVPC mode, the security team can assign different security policies for
                each task as well as monitor traffic from each task distinctly.</p>

            <ul>
                <li><strong>Option A is incorrect</strong> as with host networking mode, networking of containers uses
                    the network interface of the Amazon EC2 instance on which it's running. This is a basic network type
                    and each task does not get assigned a different networking mode.</li>
                <li><strong>Option B is incorrect </strong>as an elastic network interface (ENI) with the primary
                    private IP address is assigned for Fargate task networking, not for ECS task networking.</li>
                <li><strong>Option D is incorrect</strong> as Bridge mode uses Docker’s built-in virtual network.
                    Containers connected to the bridge can communicate with others. Containers using different bridges
                    cannot communicate with each other while providing isolation. It does not provide each task with a
                    separate networking mode that can be used for security controls and network monitoring.</li>
            </ul>

            <p>For more information on Amazon ECS task networking and choosing a network mode, refer to the following
                URLs,</p>

            <ul>
                <li><a href="https://docs.aws.amazon.com/AmazonECS/latest/developerguide/task-networking.html"
                        target="_blank">https://docs.aws.amazon.com/AmazonECS/latest/developerguide/task-networking.html</a>
                </li>
                <li><a href="https://docs.aws.amazon.com/AmazonECS/latest/bestpracticesguide/networking-networkmode.html"
                        target="_blank">https://docs.aws.amazon.com/AmazonECS/latest/bestpracticesguide/networking-networkmode.html</a>
                </li>
            </ul>
        </div>
    </div>
    <ul>
        <li>The&nbsp;<code>awslogs</code>&nbsp;log driver isn't configured on your compute resources</li>
        <li>Insufficient resources</li>
        <li>No internet access for compute resources</li>
        <li>Amazon EC2 instance limit reached</li>
    </ul>
    To get the private and public IP addresses, you can run the following commands on the running instance.
    http://169.254.169.254/latest/meta-data/local-ipv4
    <p>Amazon EC2 Nitro-based systems are not required for this solution but do offer advantages in performance that
        will help to maximize the usage of the EBS volume. For the data storage volume an i01 volume can support up to
        64,000 IOPS so a single volume with sufficient capacity (50 IOPS per GiB) can be deliver the requirements.</p>

</body>

</html>